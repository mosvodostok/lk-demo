import{r as u,b0 as R,j as a,p as B,b1 as g,b2 as h,b3 as D,b4 as G,b5 as E,k as z,g as I,b6 as N,b7 as k,n as A,m as _,ag as j,ao as $,am as w,ap as y}from"./index-DtNT1yH5.js";import{s as H,a as L,S as O,G as U,u as q}from"./form-Cv2z2cdi.js";const W=N(),X=H("div",{name:"MuiStack",slot:"Root"});function J(e){return L({props:e,name:"MuiStack",defaultTheme:W})}function K(e,s){const t=u.Children.toArray(e).filter(Boolean);return t.reduce((n,c,o)=>(n.push(c),o<t.length-1&&n.push(u.cloneElement(s,{key:`separator-${o}`})),n),[])}const Q=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],Y=({ownerState:e,theme:s})=>{let t={display:"flex",flexDirection:"column",...g({theme:s},h({values:e.direction,breakpoints:s.breakpoints.values}),n=>({flexDirection:n}))};if(e.spacing){const n=D(s),c=Object.keys(s.breakpoints.values).reduce((r,i)=>((typeof e.spacing=="object"&&e.spacing[i]!=null||typeof e.direction=="object"&&e.direction[i]!=null)&&(r[i]=!0),r),{}),o=h({values:e.direction,base:c}),l=h({values:e.spacing,base:c});typeof o=="object"&&Object.keys(o).forEach((r,i,d)=>{if(!o[r]){const f=i>0?o[d[i-1]]:"column";o[r]=f}}),t=G(t,g({theme:s},l,(r,i)=>e.useFlexGap?{gap:k(n,r)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Q(i?o[i]:e.direction)}`]:k(n,r)}}))}return t=E(s.breakpoints,t),t};function Z(e={}){const{createStyledComponent:s=X,useThemeProps:t=J,componentName:n="MuiStack"}=e,c=()=>z({root:["root"]},r=>I(n,r),{}),o=s(Y);return u.forwardRef(function(r,i){const d=t(r),p=R(d),{component:f="div",direction:C="column",spacing:S=0,divider:x,children:v,className:F,useFlexGap:M=!1,...T}=p,V={direction:C,spacing:S,useFlexGap:M},P=c();return a.jsx(o,{as:f,ownerState:V,ref:i,className:B(P.root,F),...T,children:x?K(v,x):v})})}const b=Z({createStyledComponent:A("div",{name:"MuiStack",slot:"Root"}),useThemeProps:e=>_({props:e,name:"MuiStack"})});/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],se=j("save",ee);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ne=j("x",te);function re(e){const{title:s,formFields:t,actions:n,notification:c}=e;return a.jsxs($,{children:[c,a.jsxs(b,{direction:"row",justifyContent:"space-between",sx:{m:2},children:[a.jsx(w,{variant:"h6",sx:{fontWeight:600},children:s}),a.jsx(b,{direction:"row",gap:1,children:n})]}),t]})}function ie({mode:e,handlers:s,hasChanges:t}){if(e==="view")return a.jsx(y,{variant:"contained",startIcon:a.jsx(O,{size:16}),onClick:s.edit,sx:{borderRadius:2,textTransform:"none"},children:"Редактировать"},"edit-btn");if(e==="edit")return a.jsxs(a.Fragment,{children:[a.jsx(y,{variant:"outlined",startIcon:a.jsx(ne,{size:16}),onClick:s.cancel,sx:{borderRadius:2,textTransform:"none"},children:"Отменить"},"cancel-btn"),a.jsx(y,{variant:"contained",startIcon:a.jsx(se,{size:16}),onClick:s.save,disabled:!t,sx:{borderRadius:2,textTransform:"none"},children:"Сохранить"},"save-btn")]})}function ce({children:e}){return a.jsx(U,{size:{md:6,xs:12},children:e})}function le({defaultValues:e,validationSchema:s}){const[t,n]=u.useState("view"),[c,o]=u.useState(!1),l=q({defaultValues:e,validators:{onChange:s},listeners:{onChange:({formApi:d})=>{const{isDefaultValue:p}=d.state;o(!p)}}});return{form:l,mode:t,handleEdit:()=>{n("edit")},handleCancel:()=>{l.reset(),n("view"),o(!1)},handleSave:()=>{l.handleSubmit(),n("view"),o(!1)},hasChanges:c}}export{re as F,ce as G,ie as a,le as u};
